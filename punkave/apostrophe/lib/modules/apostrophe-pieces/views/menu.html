{% import 'apostrophe-ui:components/dropdowns.html' as dropdowns with context -%}
{%- macro listMenu() -%}
  <li href="#" class="apos-dropdown-item" data-create-{{ data.options.name | css }}>{{ __('New %s', __(data.options.label)) }}</li>
  <li href="#" class="apos-dropdown-item" data-manage-{{ data.options.name | css }}>{{ __('Manage %s', __(data.options.pluralLabel)) }}</li>
  {%- if data.options.import -%}
    <li href="#" class="apos-dropdown-item" data-import-{{ data.options.name | css }}>{{ __('Import %s', __(data.options.pluralLabel) ) }}</li>
    {%- if data.options.export -%}
      <li href="#" class="apos-dropdown-item" data-export-{{ data.options.name | css }}>{{ __('Export %s', __(data.options.pluralLabel) ) }}</li>
    {%- endif -%}
  {%- endif -%}
{%- endmacro -%}
{%- if data.permissions.edit -%}
  <div class="apos-admin-bar-item">
    <div class="apos-admin-bar-item">
      {{ dropdowns.base({
        label: __(data.options.pluralLabel),
        items: [
          { label: 'One of the things', link: '#', action: 'data-something' },
          { label: 'Another Stuff', link: '#', action: 'data-something' },
          { label: 'OKAY', link: '#', action: 'data-something' }
        ]}, 'admin', { direction: 'down', listMacro: listMenu }
      ) }}
    </div>
  </div>
{%- endif -%}
